<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Simple 2D Fluid Simulation</title>
</head>
<body>
  <canvas id="simulation" width="800" height="600"></canvas>
  <script>
    const canvas = document.getElementById('simulation');
    const ctx = canvas.getContext('2d');
    const WIDTH = canvas.width;
    const HEIGHT = canvas.height;
    const GRID_SIZE = 100;

    const createGrid = () => {
      const grid = [];
      for (let x = 0; x < GRID_SIZE; x++) {
        grid[x] = [];
        for (let y = 0; y < GRID_SIZE; y++) {
          grid[x][y] = Math.random() * 255;
        }
      }
      return grid;
    };

    let grid = createGrid();

    const drawGrid = () => {
      const cellWidth = WIDTH / GRID_SIZE;
      const cellHeight = HEIGHT / GRID_SIZE;
      for (let x = 0; x < GRID_SIZE; x++) {
        for (let y = 0; y < GRID_SIZE; y++) {
          const val = grid[x][y];
          ctx.fillStyle = `rgb(${val},${val},255)`;
          ctx.fillRect(x * cellWidth, y * cellHeight, cellWidth, cellHeight);
        }
      }
    };

    const updateGrid = () => {
      for (let x = 0; x < GRID_SIZE; x++) {
        for (let y = 0; y < GRID_SIZE; y++) {
          grid[x][y] += (Math.random() - 0.5) * 10;
        }
      }
    };

    const animate = () => {
      updateGrid();
      drawGrid();
      requestAnimationFrame(animate);
    };

    animate();
  </script>
</body>
</html>
